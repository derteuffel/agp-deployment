import{b,aC as N,q as f,d as L,o as C,r as m,d3 as y,j as e,R as T,C as a,F as s,c$ as E,d0 as v,x as G,z as A,d4 as P,n as h,d2 as D}from"./index-CbhSdBPv.js";const R=()=>{const{status:i,singlePap:c}=b(t=>t.pap),{papId:n}=N(),j=f(),d=L(),{register:l,handleSubmit:u,control:p,reset:o,formState:{errors:r}}=C();m.useEffect(()=>{n&&d(y(n))},[n,d]),m.useEffect(()=>{c&&o(c)},[c,o]);const g=async t=>{if(n)try{await d(P({id:n,data:t})).unwrap(),h.success("Données mises à jour avec succès !"),j("/gestion/pap")}catch(x){h.error(D(x),{autoClose:5e3})}};return e.jsxs("form",{onSubmit:u(g),className:"container mt-4",children:[e.jsx("h3",{className:"mb-4",children:"Mettre à jour le PAP"}),e.jsxs(T,{className:"gy-3",children:[e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Code PAP"}),e.jsx(s.Control,{...l("code"),placeholder:"Ex: PAP12345"}),r.code&&e.jsx(s.Text,{className:"text-danger",children:r.code.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Nom complet"}),e.jsx(s.Control,{...l("fullName"),placeholder:"Ex: Jean Doe"}),r.fullName&&e.jsx(s.Text,{className:"text-danger",children:r.fullName.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Sexe"}),e.jsxs(s.Select,{...l("gender"),children:[e.jsx("option",{value:"",children:"Sélectionnez"}),e.jsx("option",{value:"Male",children:"Masculin"}),e.jsx("option",{value:"Female",children:"Féminin"})]}),r.gender&&e.jsx(s.Text,{className:"text-danger",children:r.gender.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Âge"}),e.jsx(s.Control,{type:"number",...l("age"),placeholder:"Ex: 30"}),r.age&&e.jsx(s.Text,{className:"text-danger",children:r.age.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Numéro de téléphone"}),e.jsx(E,{name:"phone",control:p,render:({field:t})=>e.jsx(v,{...t,defaultCountry:"CD",className:"form-control"})}),r.phone&&e.jsx(s.Text,{className:"text-danger",children:r.phone.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Numéro de la pièce d'identité"}),e.jsx(s.Control,{...l("identityDocumentNumber")}),r.identityDocumentNumber&&e.jsx(s.Text,{className:"text-danger",children:r.identityDocumentNumber.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Type de propriété"}),e.jsx(s.Control,{...l("propertyType"),placeholder:"Ex: Terrain"}),r.propertyType&&e.jsx(s.Text,{className:"text-danger",children:r.propertyType.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Territoire"}),e.jsx(s.Control,{...l("territory"),placeholder:"Ex: Kinshasa"}),r.territory&&e.jsx(s.Text,{className:"text-danger",children:r.territory.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Village"}),e.jsx(s.Control,{...l("village"),placeholder:"Ex: Masina"}),r.village&&e.jsx(s.Text,{className:"text-danger",children:r.village.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Longitude"}),e.jsx(s.Control,{...l("longitude"),placeholder:"Ex: -1.2921"}),r.longitude&&e.jsx(s.Text,{className:"text-danger",children:r.longitude.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Latitude"}),e.jsx(s.Control,{...l("latitude"),placeholder:"Ex: 36.8219"}),r.latitude&&e.jsx(s.Text,{className:"text-danger",children:r.latitude.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Coordonnées"}),e.jsx(s.Control,{...l("coordonnees"),placeholder:"Ex: -1.2921,36.8219"}),r.coordonnees&&e.jsx(s.Text,{className:"text-danger",children:r.coordonnees.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Surface (m²)"}),e.jsx(s.Control,{type:"number",...l("surface"),placeholder:"Ex: 500"}),r.surface&&e.jsx(s.Text,{className:"text-danger",children:r.surface.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"CU"}),e.jsx(s.Control,{type:"number",...l("cu"),placeholder:"Ex: 100"}),r.cu&&e.jsx(s.Text,{className:"text-danger",children:r.cu.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Plus-value"}),e.jsx(s.Control,{type:"number",...l("plusValue"),placeholder:"Ex: 1000"}),r.plusValue&&e.jsx(s.Text,{className:"text-danger",children:r.plusValue.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Annexe Surface"}),e.jsx(s.Control,{type:"number",...l("annexeSurface"),placeholder:"Ex: 200"}),r.annexeSurface&&e.jsx(s.Text,{className:"text-danger",children:r.annexeSurface.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Activité Commerciale"}),e.jsx(s.Control,{...l("activiteCommerciale"),placeholder:"Ex: Commerce"}),r.activiteCommerciale&&e.jsx(s.Text,{className:"text-danger",children:r.activiteCommerciale.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Arbre Affectée"}),e.jsx(s.Control,{...l("arbreAffectee"),placeholder:"Ex: Palmier"}),r.arbreAffectee&&e.jsx(s.Text,{className:"text-danger",children:r.arbreAffectee.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Nombre de jours"}),e.jsx(s.Control,{type:"number",...l("nombreJours"),placeholder:"Ex: 30"}),r.nombreJours&&e.jsx(s.Text,{className:"text-danger",children:r.nombreJours.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Equivalent en Dollars"}),e.jsx(s.Control,{type:"number",...l("equivalentDollars"),placeholder:"Ex: 1000"}),r.equivalentDollars&&e.jsx(s.Text,{className:"text-danger",children:r.equivalentDollars.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Perte de Revenu Locatif"}),e.jsx(s.Control,{type:"number",...l("perteRevenuLocatif"),placeholder:"Ex: 500"}),r.perteRevenuLocatif&&e.jsx(s.Text,{className:"text-danger",children:r.perteRevenuLocatif.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Assistance Déménagement"}),e.jsx(s.Control,{type:"number",...l("assistanceDemenagement"),placeholder:"Ex: 300"}),r.assistanceDemenagement&&e.jsx(s.Text,{className:"text-danger",children:r.assistanceDemenagement.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Assistance Personne Vulnérable"}),e.jsx(s.Control,{type:"number",...l("assistance_personne_vulnerable"),placeholder:"Ex: 200"}),r.assistance_personne_vulnerable&&e.jsx(s.Text,{className:"text-danger",children:r.assistance_personne_vulnerable.message})]})}),e.jsx(a,{md:6,children:e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Accord de Libération de Lieu"}),e.jsx(s.Check,{type:"checkbox",label:"Oui",...l("accordLiberationLieu")}),r.accordLiberationLieu&&e.jsx(s.Text,{className:"text-danger",children:r.accordLiberationLieu.message})]})})]}),e.jsx("div",{className:"d-flex justify-content-end mt-4",children:e.jsx(G,{type:"submit",disabled:i==="loading",children:i==="loading"?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:"sm",className:"me-2"}),"Enregistrement..."]}):"Enregistrer"})})]})};export{R as default};
