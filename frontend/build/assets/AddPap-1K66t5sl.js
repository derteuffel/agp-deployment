import{d as h,b as u,q as j,o as b,j as e,F as l,R as g,C as n,c$ as N,d0 as y,x as L,z as E,d1 as C,n as o,d2 as v}from"./index-CyHwfVtD.js";const P=()=>{const d=h(),{status:t}=u(a=>a.pap),i=j(),{register:r,control:m,handleSubmit:x,formState:{errors:s}}=b(),p=async a=>{try{await d(C(a)).unwrap(),o.success("PAP créé avec succès"),i("/gestion/pap")}catch(c){o.error(v(c))}};return e.jsxs("div",{className:"container mt-4",children:[e.jsx("h3",{className:"mb-4 text-center",children:"Ajouter un PAP"}),e.jsxs(l,{onSubmit:x(p),className:"p-4 bg-light rounded shadow-sm",children:[e.jsxs(g,{className:"mb-3",children:[e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Code PAP"}),e.jsx(l.Control,{...r("code"),placeholder:"Ex: PAP12345"}),s.code&&e.jsx("p",{className:"text-danger small",children:s.code.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Nom complet"}),e.jsx(l.Control,{...r("fullName"),placeholder:"Ex: Jean Doe"}),s.fullName&&e.jsx("p",{className:"text-danger small",children:s.fullName.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Sexe"}),e.jsxs(l.Select,{...r("gender"),children:[e.jsx("option",{value:"",children:"Sélectionnez"}),e.jsx("option",{value:"Male",children:"Masculin"}),e.jsx("option",{value:"Female",children:"Féminin"})]}),s.gender&&e.jsx("p",{className:"text-danger small",children:s.gender.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Âge"}),e.jsx(l.Control,{type:"number",...r("age"),placeholder:"Ex: 30"}),s.age&&e.jsx("p",{className:"text-danger small",children:s.age.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Numéro de téléphone"}),e.jsx(N,{name:"phone",control:m,render:({field:a})=>e.jsx(y,{...a,defaultCountry:"CD",className:"form-control"})}),s.phone&&e.jsx("p",{className:"text-danger small",children:s.phone.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Numéro de la pièce d'identité"}),e.jsx(l.Control,{...r("identityDocumentNumber")}),s.identityDocumentNumber&&e.jsx("p",{className:"text-danger small",children:s.identityDocumentNumber.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Type de propriété"}),e.jsx(l.Control,{...r("propertyType"),placeholder:"Ex: Terrain"}),s.propertyType&&e.jsx("p",{className:"text-danger small",children:s.propertyType.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Territoire"}),e.jsx(l.Control,{...r("territory"),placeholder:"Ex: Kinshasa"}),s.territory&&e.jsx("p",{className:"text-danger small",children:s.territory.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Village"}),e.jsx(l.Control,{...r("village"),placeholder:"Ex: Kinshasa"}),s.village&&e.jsx("p",{className:"text-danger small",children:s.village.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Longitude"}),e.jsx(l.Control,{...r("longitude"),placeholder:"Ex: -1.2921"}),s.longitude&&e.jsx("p",{className:"text-danger small",children:s.longitude.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Latitude"}),e.jsx(l.Control,{...r("latitude"),placeholder:"Ex: 36.8219"}),s.latitude&&e.jsx("p",{className:"text-danger small",children:s.latitude.message})]})}),e.jsx(n,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Coordonnées"}),e.jsx(l.Control,{...r("coordonnees"),placeholder:"Ex: -1.2921,36.8219"}),s.coordonnees&&e.jsx("p",{className:"text-danger small",children:s.coordonnees.message})]})}),[{name:"surface",label:"Surface (m²)",type:"number",placeholder:"Ex: 500"},{name:"cu",label:"CU",type:"number",placeholder:"Ex: 100"},{name:"plusValue",label:"Plus-value",type:"number",placeholder:"Ex: 1000"},{name:"annexeSurface",label:"Annexe Surface",type:"number",placeholder:"Ex: 200"},{name:"activiteCommerciale",label:"Activité Commerciale",placeholder:"Ex: Commerce"},{name:"arbreAffectee",label:"Arbre Affectée",placeholder:"Ex: Palmier"},{name:"nombreJours",label:"Nombre de jours",type:"number",placeholder:"Ex: 30"},{name:"equivalentDollars",label:"Equivalent en Dollars",type:"number",placeholder:"Ex: 1000"},{name:"perteRevenuLocatif",label:"Perte de Revenu Locatif",type:"number",placeholder:"Ex: 500"},{name:"assistanceDemenagement",label:"Assistance Déménagement",type:"number",placeholder:"Ex: 300"},{name:"assistance_personne_vulnerable",label:"Assistance Personne Vulnérable",type:"number",placeholder:"Ex: 200"},{name:"photos",label:"Photos",type:"file",placeholder:"",multiple:!0}].map(a=>{var c;return e.jsx(n,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:a.label}),e.jsx(l.Control,{...r(a.name),type:a.type||"text",placeholder:a.placeholder,multiple:a.multiple||void 0}),s[a.name]&&e.jsx("p",{className:"text-danger small",children:(c=s[a.name])==null?void 0:c.message})]})},a.name)})]}),e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Accord de Libération de Lieu"}),e.jsx(l.Check,{type:"checkbox",label:"Oui",...r("accordLiberationLieu")}),s.accordLiberationLieu&&e.jsx("p",{className:"text-danger small",children:s.accordLiberationLieu.message})]}),e.jsx(L,{type:"submit",variant:"primary",disabled:t==="loading",className:"w-100",children:t==="loading"?e.jsxs(e.Fragment,{children:[e.jsx(E,{animation:"border",size:"sm",className:"me-2"}),"Enregistrement..."]}):"Enregistrer"})]})]})};export{P as default};
