import{d as b,q as j,b as D,j as s,G as o,T as c,bT as I,bU as V,bV as f,S as B,aN as p,bW as F,bX as C,bY as L,bZ as w,b_ as k,b$ as N,c0 as E,c1 as R,n as r,c2 as T,c3 as U}from"./index-CbhSdBPv.js";import{I as z}from"./Image-4MTIMzPs.js";const q=()=>{const n=b(),a=j(),m=()=>a("/"),l=()=>n(F()),u=e=>n(C(e)),y=(e,t)=>n(L({index:e,data:t})),x=e=>n(w(e)),h=e=>n(k(e)),v=(e,t)=>n(N({index:e,data:t})),S=e=>n(E(e)),{formData:i,step:d}=D(e=>e.dataManagement.anonynousRegistrationSteps),A=e=>{n(R({...i,incidentStartDate:e.incidentStartDate,incidentEndDate:e.incidentEndDate,type:e.type,description:e.description,province:e.province,city:e.city,sector:e.sector,village:e.village,territory:e.territory,addressLine1:e.addressLine1,site:(e==null?void 0:e.site)??void 0,projectSite:(e==null?void 0:e.site)??void 0}))},g=async()=>{const e=r.loading("Veuillez patienter...");try{await n(T(i)).unwrap(),n(U()),r.update(e,{render:"Formulaire envoye avec success",type:"success",isLoading:!1,autoClose:1e3}),a("/login")}catch(t){r.update(e,{render:String(t),type:"error",isLoading:!1,autoClose:1e3}),console.error(t)}};return s.jsx("div",{style:{backgroundColor:"#F0F0F0",padding:"20px",minHeight:"100vh"},children:s.jsx("div",{className:"container",children:s.jsxs(o,{container:!0,spacing:3,children:[s.jsxs(o,{item:!0,xs:12,sx:{textAlign:"center"},children:[s.jsx(c,{children:s.jsx(z,{src:I,style:{width:"100px",height:"100px"},onClick:()=>a("/")})}),s.jsx(c,{variant:"h3",className:"mt-2 fs-3",color:"#009fe3",children:"Plainte Anonyme"})]}),s.jsxs(o,{item:!0,xs:12,children:[d===1&&s.jsx(V,{formData:i,onSubmit:A,handleClose:m,saveSpeciesData:h,updateSpeciesByIndex:v,deleteSpeciesByIndex:S}),d===2&&s.jsx(f,{prevStep:l,deleteVictimeByIndex:u,formData:i,onSubmit:g,saveVictimesData:x,updateVictimeByIndex:y,isComplainantAffected:i.isComplainantAffected})]}),s.jsx(o,{item:!0,xs:12,children:s.jsxs(B,{direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[s.jsx(c,{component:p,to:"/",variant:"body1",color:"red",sx:{textDecoration:"none"},children:"Abandonné"}),s.jsx(c,{component:p,to:"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Vous avez déjà un compte ?"})]})})]})})})};export{q as default};
