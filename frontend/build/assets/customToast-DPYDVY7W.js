import{r as o,bG as $,j as r,aB as O,bH as X,bI as _,u as l,az as z,c as m,aA as L}from"./index-CyHwfVtD.js";function U(){const t=o.useRef(!0),e=o.useRef(()=>t.current);return o.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}const h=2**31-1;function y(t,e,s){const a=s-Date.now();t.current=a<=h?setTimeout(e,a):setTimeout(()=>y(t,e,s),h)}function W(){const t=U(),e=o.useRef();return $(()=>clearTimeout(e.current)),o.useMemo(()=>{const s=()=>clearTimeout(e.current);function a(c,n=0){t()&&(s(),n<=h?e.current=setTimeout(c,n):y(e,c,Date.now()+n))}return{set:a,clear:s,handleRef:e}},[])}const Y={[X]:"showing",[_]:"showing show"},g=o.forwardRef((t,e)=>r.jsx(O,{...t,ref:e,transitionClasses:Y}));g.displayName="ToastFade";const B=o.createContext({onClose(){}}),b=o.forwardRef(({bsPrefix:t,closeLabel:e="Close",closeVariant:s,closeButton:a=!0,className:c,children:n,...u},d)=>{t=l(t,"toast-header");const i=o.useContext(B),f=z(T=>{i==null||i.onClose==null||i.onClose(T)});return r.jsxs("div",{ref:d,...u,className:m(t,c),children:[n,a&&r.jsx(L,{"aria-label":e,variant:s,onClick:f,"data-dismiss":"toast"})]})});b.displayName="ToastHeader";const H=o.forwardRef(({className:t,bsPrefix:e,as:s="div",...a},c)=>(e=l(e,"toast-body"),r.jsx(s,{ref:c,className:m(t,e),...a})));H.displayName="ToastBody";const M=o.forwardRef(({bsPrefix:t,className:e,transition:s=g,show:a=!0,animation:c=!0,delay:n=5e3,autohide:u=!1,onClose:d,onEntered:i,onExit:f,onExiting:T,onEnter:k,onEntering:F,onExited:I,bg:E,...A},D)=>{t=l(t,"toast");const C=o.useRef(n),x=o.useRef(d);o.useEffect(()=>{C.current=n,x.current=d},[n,d]);const j=W(),N=!!(u&&a),R=o.useCallback(()=>{N&&(x.current==null||x.current())},[N]);o.useEffect(()=>{j.set(R,C.current)},[j,R]);const G=o.useMemo(()=>({onClose:d}),[d]),v=!!(s&&c),w=r.jsx("div",{...A,ref:D,className:m(t,e,E&&`bg-${E}`,!v&&(a?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return r.jsx(B.Provider,{value:G,children:v&&s?r.jsx(s,{in:a,onEnter:k,onEntering:F,onEntered:i,onExit:f,onExiting:T,onExited:I,unmountOnExit:!0,children:w}):w})});M.displayName="Toast";const p=Object.assign(M,{Body:H,Header:b}),q={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},S=o.forwardRef(({bsPrefix:t,position:e,containerPosition:s,className:a,as:c="div",...n},u)=>(t=l(t,"toast-container"),r.jsx(c,{ref:u,...n,className:m(t,e&&q[e],s&&`position-${s}`,a)})));S.displayName="ToastContainer";const K=({message:t,type:e,show:s,onClose:a,delay:c=3e3})=>{const[n,u]=o.useState(s);return o.useEffect(()=>{u(s)},[s]),r.jsx(S,{position:"top-end",className:"p-3",children:r.jsxs(p,{onClose:a,show:n,delay:c,autohide:!0,children:[r.jsx(p.Header,{children:r.jsx("strong",{className:"me-auto",children:e==="success"?"Succ√®s":"Erreur"})}),r.jsx(p.Body,{className:e==="error"?"text-danger":"text-success",children:t})]})})};export{K as C};
